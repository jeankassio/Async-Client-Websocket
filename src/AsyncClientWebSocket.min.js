/*!
 * Async Client Websocket v1.0.3
 * by Jean Kássio
 *
 * More info:
 * https://jeankassio.dev
 *
 * Copyright Jean Kássio
 * Released under the MIT license
 * https://github.com/jeankassio/Async-Client-Websocket/blob/main/LICENSE
 *
 * @preserve
 */ class WebSocketClient{constructor(s){this.url=s,this.socket=null,this.onOpen=null,this.onClose=null,this.onMessage=null,this.onError=null}connect(){return new Promise((s,t)=>{this.socket=new WebSocket(this.url),this.socket.onopen=t=>{this.onOpen&&this.onOpen(t),s()},this.socket.onmessage=s=>{let t=s.data;this.onMessage&&this.onMessage(t)},this.socket.onerror=s=>{this.onError&&this.onError(s)},this.socket.onclose=s=>{this.onClose&&this.onClose(s)}})}send(s){this.socket&&this.socket.readyState===WebSocket.OPEN&&this.socket.send(s)}disconnect(){this.socket&&this.socket.close()}}